(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{196:function(t,e,n){n(197),t.exports=n(464)},391:function(t,e,n){"use strict";var o=n(87);n.n(o).a},392:function(t,e,n){(t.exports=n(393)(!1)).push([t.i,'\n[v-cloak] { display: none;}\n.mw-1140{ max-width:1140px;\n}\n[draggable="true"] { user-select: none;\n}\n.cursor-move{ cursor:move;\n}\n.dragging{background-color:cornflowerblue}\r\n',""])},464:function(t,e,n){"use strict";n.r(e);var o=n(28),r=n(189),i=n.n(r),a=n(190),s=n.n(a),c=n(191),d=n.n(c),l=n(192),u=n.n(l),f=n(193),v=n.n(f),h=n(194),p=n.n(h),m=n(195),g=n.n(m),_="https://www.youtube-nocookie.com/embed",b="https://www.facebook.com/plugins/video.php?href=https://www.facebook.com",w="https://livestream.com",x=function(t){return t.split(/ |,/).map(function(t){return t?function(t){var e,n,o;if(!t)return null;if(o=t.match(/^((yt):)?([a-zA-Z0-9-_.]+)$/))e="yt:"+o[3],n=_+"/"+o[3];else if(o=t.match(/^https:\/\/www\.youtube\.com\/watch\?v=([a-zA-Z0-9-_.]+)/))e="yt:"+o[1],n=_+"/"+o[1];else if(o=t.match(/^https:\/\/www.youtube\.com\/embed\/([a-zA-Z0-9-_.]+)/))e="yt:"+o[1],n=_+"/"+o[1];else if(o=t.match(/^https:\/\/youtu\.be\/([a-zA-Z0-9-_.]+)/))e="yt:"+o[1],n=_+"/"+o[1];else if(o=t.match(/^(tt):([a-zA-Z0-9-_.]+)$/))e=o[0],n="https://player.twitch.tv/?channel="+o[2]+"&autoplay=false";else if(o=t.match(/^https:\/\/www\.twitch\.tv\/([a-zA-Z0-9-_.]+)/))e="tt:"+o[1],n="https://player.twitch.tv/?channel="+o[1]+"&autoplay=false";else if(o=t.match(/^(fb):([a-zA-Z0-9-_.]+):(\d+)$/))e=o[0],n=b+"/"+o[2]+"/videos/"+o[3]+"&autoplay=false";else if(o=t.match(/^https:\/\/www\.facebook\.com\/([a-zA-Z0-9-_.]+)\/videos\/(\d+)/))e="fb:"+o[1]+":"+o[2],n=b+"/"+o[1]+"/videos/"+o[2]+"&autoplay=false";else if(o=t.match(/^(ls):(\d+):(\d+)$/))e=o[0],n=w+"/accounts/"+o[2]+"/events/"+o[3]+"/player";else if(!e&&(o=t.match(/^(ls):(\d+):(\d+):(\d+)$/)))e=o[0],n=w+"/accounts/"+o[1]+"/events/"+o[2]+"/videos/"+o[3]+"/player";else if(o=t.match(/^https:\/\/livestream\.com\/accounts\/(\d+)\/events\/(\d+)/))e="ls:"+o[1]+":"+o[2],n=w+"/accounts/"+o[1]+"/events/"+o[2]+"/player";else{if(!(o=t.match(/^https:\/\/livestream\.com\/accounts\/(\d+)\/events\/(\d+)\/videos\/(\d+)/)))return null;e="ls:"+o[1]+":"+o[2]+":"+o[3],n=w+"/accounts/"+o[1]+"/events/"+o[2]+"/videos/"+o[3]+"/player"}return{code:e,url:n,focus:!1,order:0,dragging:!1,dragover:!1}}(t):null}).filter(function(t){return t})},y=n(187),k=n.n(y),C=[{url:"https://oceanxdds.github.io/live_monitor/channel.txt",last:"",callback:function(t,e,n){e!=t.last&&(t.last=e,n([e]))}},{url:"https://ncehk2019.github.io/nce-live-datasrc/lives.json",last:"",callback:function(t,e,n){if(e&&e.lives){var o=e.lives.filter(function(t){return t.active}).map(function(t){return t["#id"]});t.last!=o.join()&&(t.last=o.join(),n(o))}}}],A={data:function(){return{version:"190621",url:"",videos:[],export_url:"",export_url_id:"export_url_id",auto:!1,auto_interval:null,live_mode:!0,dragged_video:null}},watch:{hash:function(){window.location.hash=this.hash,this.export_url="https://oceanxdds.github.io/live_monitor/"+this.hash},videos:function(){document.title=(this.videos.length?"("+this.videos.length+") ":"")+"Live Monitor"},auto:function(){if(clearInterval(this.auto_interval),this.auto){var t=this;this.auto_interval=setInterval(function(){t.syncLive()},6e5)}}},computed:{hash:function(){return"#"+this.videos.map(function(t){return t}).sort(function(t,e){return t.order-e.order}).map(function(t){return t.code}).join(",")}},mounted:function(){window.location.hash&&this.addVideo(window.location.hash.substr(1)),this.live_mode&&(this.syncLive(),this.auto=!0)},methods:{toggleAuto:function(){this.auto=!this.auto},syncLive:function(){var t,e=this;t=function(t){t.forEach(function(t){e.addVideo(t)})},C.forEach(function(e){k.a.get(e.url,{params:{time:(new Date).getTime()}}).then(function(n){e.callback(e,n.data,t)})})},addVideo:function(t){var e=this;t=t||this.url,x(t).forEach(function(t){e.videos.filter(function(e){return e.code==t.code}).length>0||(t.order=e.videos.length,e.videos.push(t))}),this.url=""},removeVideo:function(t){this.videos.splice(this.videos.indexOf(t),1),this.updateOrder()},focusVideo:function(t){this.videos.forEach(function(e){e.focus=e.code==t.code&&!e.focus})},updateOrder:function(){this.videos.map(function(t){return t}).sort(function(t,e){return t.order-e.order}).forEach(function(t,e){t.order=e})},copyUrl:function(){var t=document.createRange();t.selectNode(document.getElementById(this.export_url_id));var e=window.getSelection();e.removeAllRanges(),e.addRange(t),document.execCommand("copy"),e.removeAllRanges()},dragstart_handler:function(t){this.dragged_video=t,t.dragging=!0},dragend_handler:function(t){this.dragged_video=null,t.dragging=!1},drop_handler:function(t){if(this.dragged_video){var e=this.dragged_video,n=t,o=t.order;n.order<e.order?(this.videos.forEach(function(t){o<=t.order&&t.order<e.order&&t.order++}),e.order=o):e.order<n.order&&(this.videos.forEach(function(t){e.order<t.order&&t.order<=o&&t.order--}),e.order=o)}}}},E=(n(391),n(188)),z=Object(E.a)(A,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"shadow-sm"},[n("div",{staticClass:"container-fluid mw-1140 py-2"},[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"mr-1 flex-fill"},[n("b-input-group",{attrs:{prepend:"",size:"sm"}},[n("b-input-group-append",[n("b-dropdown",{attrs:{size:"sm",split:"",text:"Reload",variant:"success"},on:{click:function(e){return t.syncLive()}}},[n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return t.toggleAuto()}}},[t._v("\r\n                                    Auto reload | "),n("span",{staticClass:"font-weight-bold",class:{"text-success":t.auto,"text-secondary":!t.auto}},[t._v(t._s(t.auto?"On":"Off"))])]),t._v(" "),n("b-dropdown-text",{staticStyle:{width:"275px"}},[t._v("\r\n                                    Hong Kong Anti Extradition Bill\r\n                                ")])],1)],1),t._v(" "),n("b-form-input",{attrs:{placeholder:"YouTube, Twitch, Facebook, Livestream"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addVideo()}},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),t._v(" "),n("b-input-group-append",[n("b-button",{on:{click:function(e){return t.addVideo()}}},[t._v("Enter")])],1)],1)],1)])])]),t._v(" "),n("div",{staticClass:"container-fluid"},[t.videos.length?n("div",{staticClass:"form-row py-3"},t._l(t.videos,function(e){return n("div",{key:e.code,staticClass:"col-12 col-md-6 col-lg-4 col-xl-3",class:{"col-md-12":e.focus,"col-lg-8":e.focus,"col-xl-6":e.focus,dragging:e.dragging},style:{order:e.focus?0:e.order+1},attrs:{id:e.code,draggable:"true"},on:{dragstart:function(n){return t.dragstart_handler(e)},dragend:function(n){return t.dragend_handler(e)},dragenter:function(t){t.preventDefault()},dragleave:function(t){t.preventDefault()},dragover:function(t){t.preventDefault()},drop:function(n){return t.drop_handler(e)}}},[n("div",{staticClass:"border my-1"},[n("div",{staticClass:"d-flex py-1 cursor-move"},[n("b-dropdown",{staticClass:"mx-1",attrs:{size:"sm",split:"",text:"CH"+(e.order+1),variant:"success"},on:{click:function(n){return t.focusVideo(e)}}},[n("b-dropdown-text",{staticStyle:{width:"275px"}},[n("b-form-input",{attrs:{size:"sm",value:e.code,disabled:""}})],1)],1),t._v(" "),n("div",{staticClass:"mx-1 ml-auto"},[n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(n){return t.removeVideo(e)}}},[t._v("âœ•")])],1)],1),t._v(" "),n("b-embed",{attrs:{type:"iframe",aspect:"16by9",src:e.url,allowfullscreen:""}})],1)])}),0):n("div",{staticClass:"py-5 text-center text-secondary"},[n("h6",[t._v("Watch Live from YouTube, Twitch, Facebook, Livestream in one page.")])])]),t._v(" "),n("div",{},[n("div",{staticClass:"container-fluid mw-1140 py-2"},[n("b-input-group",{attrs:{prepend:"Share",size:"sm"}},[n("b-form-input",{attrs:{id:t.export_url_id,disabled:""},model:{value:t.export_url,callback:function(e){t.export_url=e},expression:"export_url"}}),t._v(" "),n("b-input-group-append",[n("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.copyUrl()}}},[t._v("Copy URL")])],1)],1)],1),t._v(" "),n("div",{staticClass:"container-fluid mw-1140 py-2"},[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"mr-1 flex-fill"}),t._v(" "),n("div",{staticClass:"mx-1 p-2 small"},[t._v("\r\n                    Version: "+t._s(t.version)+"\r\n                ")]),t._v(" "),t._m(0),t._v(" "),t._m(1)])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mx-1"},[e("a",{attrs:{href:"https://extradition.g0vhk.io/index-en.html",target:"_blank"}},[e("img",{attrs:{src:"images/theme/Bauhinia-32px.png",title:"Hong Kong Anti Extradition Bill"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ml-1"},[e("a",{attrs:{href:"https://github.com/oceanxdds/live_monitor",target:"_blank"}},[e("img",{attrs:{src:"images/theme/GitHub-Mark-32px.png",title:"GitHub"}})])])}],!1,null,null,null).exports;o.default.use(i.a),o.default.use(s.a),o.default.use(d.a),o.default.use(u.a),o.default.use(v.a),o.default.use(p.a),o.default.use(g.a),new o.default({el:"app",render:function(t){return t(z)}})},87:function(t,e,n){var o=n(392);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(394)(o,r);o.locals&&(t.exports=o.locals)}},[[196,1,2]]]);