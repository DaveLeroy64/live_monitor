(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,r){r(46),e.exports=r(47)},39:function(e,t,r){"use strict";var o=r(6);r.n(o).a},40:function(e,t,r){(e.exports=r(41)(!1)).push([e.i,'\n[v-cloak] { display: none;}\n.mw-1140{ max-width:1140px;\n}\n[draggable="true"] { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;\n}\n.cursor-move{ cursor:move;\n}\n.dragging{background-color:cornflowerblue}\n.dragover{background-color:cornflowerblue}\r\n',""])},46:function(e,t,r){"use strict";r.r(t);var o=r(2),n=r(20),i="https://www.youtube-nocookie.com/embed",a="https://www.youtube-nocookie.com/embed/live_stream?autoplay=1&channel=",s="https://www.facebook.com/plugins/video.php?href=https://www.facebook.com",d="https://livestream.com",c=function(e){return e.split(/ |,/).map((function(e){return e?function(e){var t,r,o;if(!e)return null;if((o=e.match(/^((yt):)?([a-zA-Z0-9-_.]+)$/))&&(t="yt:"+o[3],r=i+"/"+o[3]),o=e.match(/^((yc):)?([a-zA-Z0-9-_.]+)$/))t="yc:"+o[3],r=a+o[3];else if(o=e.match(/^https:\/\/www\.youtube\.com\/watch\?v=([a-zA-Z0-9-_.]+)/))t="yt:"+o[1],r=i+"/"+o[1];else if(o=e.match(/^https:\/\/www.youtube\.com\/embed\/live_stream\?channel=([a-zA-Z0-9-_.]+)/))t="yc:"+o[1],r=a+o[1];else if(o=e.match(/^https:\/\/www\.youtube\.com\/channel\/([a-zA-Z0-9-_.]+)\/live/))t="yc:"+o[1],r=a+o[1];else if(o=e.match(/^https:\/\/www.youtube\.com\/embed\/([a-zA-Z0-9-_.]+)/))t="yt:"+o[1],r=i+"/"+o[1];else if(o=e.match(/^https:\/\/youtu\.be\/([a-zA-Z0-9-_.]+)/))t="yt:"+o[1],r=i+"/"+o[1];else if(o=e.match(/^(tt):([a-zA-Z0-9-_.]+)$/))t=o[0],r="https://player.twitch.tv/?channel="+o[2]+"&autoplay=false";else if(o=e.match(/^https:\/\/www\.twitch\.tv\/([a-zA-Z0-9-_.]+)/))t="tt:"+o[1],r="https://player.twitch.tv/?channel="+o[1]+"&autoplay=false";else if(o=e.match(/^(fb):([a-zA-Z0-9-_.]+):(\d+)$/))t=o[0],r=s+"/"+o[2]+"/videos/"+o[3]+"&autoplay=false";else if(o=e.match(/^https:\/\/www\.facebook\.com\/([a-zA-Z0-9-_.]+)\/videos\/(\d+)/))t="fb:"+o[1]+":"+o[2],r=s+"/"+o[1]+"/videos/"+o[2]+"&autoplay=false";else if(o=e.match(/^(ls):(\d+):(\d+)$/))t=o[0],r=d+"/accounts/"+o[2]+"/events/"+o[3]+"/player";else if(!t&&(o=e.match(/^(ls):(\d+):(\d+):(\d+)$/)))t=o[0],r=d+"/accounts/"+o[1]+"/events/"+o[2]+"/videos/"+o[3]+"/player";else if(o=e.match(/^https:\/\/livestream\.com\/accounts\/(\d+)\/events\/(\d+)/))t="ls:"+o[1]+":"+o[2],r=d+"/accounts/"+o[1]+"/events/"+o[2]+"/player";else{if(!(o=e.match(/^https:\/\/livestream\.com\/accounts\/(\d+)\/events\/(\d+)\/videos\/(\d+)/)))return null;t="ls:"+o[1]+":"+o[2]+":"+o[3],r=d+"/accounts/"+o[1]+"/events/"+o[2]+"/videos/"+o[3]+"/player"}return{code:t,url:r,focus:!1,order:0,dragging:!1,dragover:!1}}(e):null})).filter((function(e){return e}))},l=r(18),u=r.n(l),h=[{url:"https://oceanxdds.github.io/live_monitor/channel.txt",last:"",callback:function(e,t,r){t!=e.last&&(e.last=t,r([t]))}}],f={data:function(){return{version:"200322",url:"",videos:[],export_url:"",export_url_id:"export_url_id",auto:!1,auto_interval:null,live_mode:!0,dragged_video:null}},watch:{hash:function(){window.location.hash=this.hash,this.export_url="https://oceanxdds.github.io/live_monitor/"+this.hash},videos:function(){document.title=(this.videos.length?"("+this.videos.length+") ":"")+"Live Monitor"}},computed:{hash:function(){return"#"+this.videos.map((function(e){return e})).sort((function(e,t){return e.order-t.order})).map((function(e){return e.code})).join(",")}},mounted:function(){window.location.hash&&this.addVideo(window.location.hash.substr(1)),this.live_mode&&this.syncLive()},methods:{toggleAuto:function(){this.auto=!this.auto},syncLive:function(){var e,t=this;e=function(e){e.forEach((function(e){t.addVideo(e)}))},h.forEach((function(t){u.a.get(t.url,{params:{time:(new Date).getTime()}}).then((function(r){t.callback(t,r.data,e)}))}))},reload:function(){var e=this,t=this.hash.substr(1);this.removeAllVideos(),setTimeout((function(){e.addVideo(t)}),500)},addVideo:function(e){var t=this;e=e||this.url,c(e).forEach((function(e){t.videos.filter((function(t){return t.code==e.code})).length>0||(e.order=t.videos.length,t.videos.push(e))})),this.url=""},removeVideo:function(e){this.videos.splice(this.videos.indexOf(e),1),this.updateOrder()},removeAllVideos:function(){for(;this.videos.length;)this.videos.pop()},focusVideo:function(e){this.videos.forEach((function(t){t.focus=t.code==e.code&&!t.focus}))},moveLeft:function(e){if(0!=e.order){var t=this.videos.filter((function(t){return t.order==e.order-1}))[0],r=[e.order,t.order];t.order=r[0],e.order=r[1]}},moveRight:function(e){if(e.order!=this.videos.length-1){var t=this.videos.filter((function(t){return t.order==e.order+1}))[0],r=[t.order,e.order];e.order=r[0],t.order=r[1]}},updateOrder:function(){this.videos.map((function(e){return e})).sort((function(e,t){return e.order-t.order})).forEach((function(e,t){e.order=t}))},copyUrl:function(){var e=document.createRange();e.selectNode(document.getElementById(this.export_url_id));var t=window.getSelection();t.removeAllRanges(),t.addRange(e),document.execCommand("copy"),t.removeAllRanges()},dragstart_handler:function(e){this.dragged_video=e,e.dragging=!0},dragend_handler:function(e){this.dragged_video=null,e.dragging=!1},dragenter_handler:function(e){e.dragover=!0},dragover_handler:function(e){e.dragover=!0},dragleave_handler:function(e){e.dragover=!1},drop_handler:function(e){if(e.dragover=!1,this.dragged_video){var t=this.dragged_video,r=e,o=e.order;r.order<t.order?(this.videos.forEach((function(e){o<=e.order&&e.order<t.order&&e.order++})),t.order=o):t.order<r.order&&(this.videos.forEach((function(e){t.order<e.order&&e.order<=o&&e.order--})),t.order=o)}}}},v=(r(39),r(19)),m=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"shadow-sm"},[r("div",{staticClass:"container-fluid mw-1140 py-2"},[r("div",{staticClass:"d-flex"},[r("div",{staticClass:"mr-1 flex-fill"},[r("b-input-group",{attrs:{prepend:"",size:"sm"}},[r("b-input-group-append",[r("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(t){return e.reload()}}},[e._v("Reload")])],1),e._v(" "),r("b-form-input",{attrs:{placeholder:"YouTube, Twitch, Facebook, Livestream"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addVideo()}},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}}),e._v(" "),r("b-input-group-append",[r("b-button",{on:{click:function(t){return e.addVideo()}}},[e._v("Enter")])],1)],1)],1)])])]),e._v(" "),r("div",{staticClass:"container-fluid"},[e.videos.length?r("div",{staticClass:"form-row py-3"},e._l(e.videos,(function(t){return r("div",{key:t.code,staticClass:"col-12 col-md-6 col-lg-4 col-xl-3",class:{"col-md-12":t.focus,"col-lg-8":t.focus,"col-xl-6":t.focus,dragging:t.dragging,dragover:t.dragover},style:{order:t.focus?0:t.order+1},attrs:{id:t.code}},[r("div",{staticClass:"border my-1 bg-white"},[r("div",{staticClass:"d-flex py-1 cursor-move",attrs:{draggable:"true"},on:{dragstart:function(r){return e.dragstart_handler(t)},dragend:function(r){return e.dragend_handler(t)},dragenter:function(r){return e.dragenter_handler(t)},dragover:function(r){return r.preventDefault(),e.dragover_handler(t)},dragleave:function(r){return e.dragleave_handler(t)},drop:function(r){return e.drop_handler(t)},touchend:function(r){return e.dragend_handler(t)}}},[r("b-dropdown",{staticClass:"mx-1",attrs:{size:"sm",split:"",text:"CH"+(t.order+1),variant:"success"},on:{click:function(r){return e.focusVideo(t)}}},[r("b-dropdown-text",{staticStyle:{width:"275px"}},[r("b-form-input",{attrs:{size:"sm",value:t.code,disabled:""}})],1)],1),e._v(" "),r("div",{staticClass:"mx-1 ml-auto"},[r("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(r){return e.removeVideo(t)}}},[e._v("âœ•")])],1)],1),e._v(" "),r("b-embed",{attrs:{type:"iframe",aspect:"16by9",src:t.url,allowfullscreen:"",draggable:"false"}})],1)])})),0):r("div",{staticClass:"py-5 text-center text-secondary"},[r("h6",[e._v("Watch Live from YouTube, Twitch, Facebook, Livestream in one page.")])])]),e._v(" "),r("div",{},[r("div",{staticClass:"container-fluid mw-1140 py-2"},[r("b-input-group",{attrs:{prepend:"Share",size:"sm"}},[r("b-form-input",{attrs:{id:e.export_url_id,disabled:""},model:{value:e.export_url,callback:function(t){e.export_url=t},expression:"export_url"}}),e._v(" "),r("b-input-group-append",[r("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.copyUrl()}}},[e._v("Copy URL")])],1)],1)],1),e._v(" "),r("div",{staticClass:"container-fluid mw-1140 py-2"},[r("div",{staticClass:"d-flex"},[r("div",{staticClass:"mr-1 flex-fill"}),e._v(" "),r("div",{staticClass:"mx-1 p-2 small"},[e._v("\r\n                    Version: "+e._s(e.version)+"\r\n                ")]),e._v(" "),e._m(0),e._v(" "),e._m(1)])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mx-1"},[t("a",{attrs:{href:"https://tl.hkrev.info/en/police-timeline/",target:"_blank"}},[t("img",{attrs:{src:"images/theme/hkdm-32px.png",title:"Hong Kong Democratic Movement"}})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ml-1"},[t("a",{attrs:{href:"https://github.com/oceanxdds/live_monitor",target:"_blank"}},[t("img",{attrs:{src:"images/theme/GitHub-Mark-32px.png",title:"GitHub"}})])])}],!1,null,null,null).exports;o.default.use(n.a),new o.default({el:"app",render:function(e){return e(m)}})},47:function(e,t){},6:function(e,t,r){var o=r(40);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(42)(o,n);o.locals&&(e.exports=o.locals)}},[[22,1,2]]]);